###########################
# News Events
###########################

add_namespace = bramja


news_event = {
	id = bramja.14
	title = bramja.14.t
	desc = bramja.14.d
	picture = GFX_news_event_nuke

	major = yes

	is_triggered_only = yes

	trigger = {
		NOT = {
			FROM = {
				FROM = {
					OR = {
						state = 529
						state = 528
						state = 64
						state = 126
						state = 531
						state = 282
						state = 361
						state = 2
						state = 16 
						state = 219
						state = 37
						state = 141
					}
				}
			}
		}
	}

	option = {
		name = bramja.14.a
		trigger = {
			NOT = { FROM = { FROM = { is_owned_by = ROOT } } }
		}
	}
	
	option = {
		name = bramja.14.b
		trigger = {
			FROM = { FROM = { is_owned_by = ROOT } }
		}
	}
}



#News events crisis
#1:draft, 
#2 Strikes , 
#3 mutinies
#4 Civil War



news_event = {
	id = bramja.1
	title = bramja.1.t
	desc = bramja.1.d
	picture = GFX_report_event_desertion_poster		# todo !! change to news event picture

	major = yes
 
	is_triggered_only = yes
	
	
	option = {
		name = bramja.1.a
		trigger = {
			OR = {
				tag = FROM
				is_in_faction_with = FROM
			}
		}
	}
	
	option = {
		name = bramja.1.b
		trigger = {
			NOT = {
				OR = {
					tag = FROM 
					is_in_faction_with = FROM
				}
			}
		    any_neighbor_country = {
				tag = FROM
			}			
		}
	}			
}
 

news_event = {
	id = bramja.2
	title = bramja.2.t
	desc = bramja.2.d
	picture = GFX_news_event_worker_protests

	major = yes
 
	is_triggered_only = yes
	
	option = {
		name = bramja.2.a
		trigger = {
			OR = {
				tag = FROM 
				is_in_faction_with = FROM
			}
		}
	}
	
	option = {
		name = bramja.2.b
		trigger = {
			NOT = {
				OR = {
					tag = FROM 
					is_in_faction_with = FROM
				}
			}
		    any_neighbor_country = {
				tag = FROM
			}			
		}
	}			
}

news_event = {
	id = bramja.3
	title = bramja.3.t
	desc = bramja.3.d
	picture = GFX_news_event_worker_protests

	major = yes
 
	is_triggered_only = yes
	
	option = {
		name = bramja.3.a
		trigger = {
			OR = {
				tag = FROM 
				is_in_faction_with = FROM
			}
		}
	}
	
	option = {
		name = bramja.3.b
		trigger = {
			NOT = {
				OR = {
					tag = FROM 
					is_in_faction_with = FROM
					has_war_with = FROM
				}
			}
		}
	}

	option = {
		name = bramja.3.c
		trigger = {
				has_war_with = FROM
		}
		
	}				
}


# Vichy French insurrection Invasion
country_event = {
	id = bramja.11
	title = bramja.11.t
	desc = bramja.11.d
	picture = GFX_report_event_french_resistance_01
	
	fire_only_once = yes
	
	trigger = {
		has_cosmetic_tag = FRA_VICHY
		owns_state = 16
		any_owned_state = {
			is_on_continent = europe
			is_core_of = ROOT
			NOT = { state = 1 }
			NOT = { is_controlled_by = ROOT }
		}
		is_in_faction_with = GER
		has_government = fascism
		has_war_with = SOV
		has_civil_war = no
	}
	
	mean_time_to_happen = {
		days = 40
		modifier = {
			factor = 0.5
			NOT = { controls_state = 16}
		}
		modifier = {
			factor = 0.5
			surrender_progress > 0.30
		}
		modifier = {
			factor = 2
			OR = {
				has_war_support > 0.70
				has_stability > 0.70
			}
		}
	}
	
	option = {
		name = bramja.11.a
		start_civil_war = { ideology = communism size = 0.35 }
		hidden_effect = {
			news_event = { id = bramja.12 days = 1 }
		}
	}
}

#Worlds news Communists insurrection Vichy
news_event = {
	id = bramja.12
	title = bramja.12.t
	desc = bramja.12.d
	picture = GFX_report_event_french_resistance_02 # todo !! change to news event picture

	major = yes
 
	is_triggered_only = yes

	option = {
		name = bramja.12.a
		trigger = {
			NOT = {
				tag = FROM 
			}
			is_in_faction_with = FROM	
		}
		add_war_support = -0.02
	}
	
	option = {
		name = bramja.12.b
		trigger = {
			has_war_with = FROM	
		}
		add_war_support = 0.02
	}
	
	option = {
		name = bramja.12.c
		trigger = {
			NOT = {
				OR = {
				tag = FROM 
				is_in_faction_with = FROM
				has_war_with = FROM
				}
			}
		}
	}
}



# World news subjects Japan break loose.

news_event = {
	id = bramja.16
	title = bramja.16.t
	desc = bramja.16.d
	picture = GFX_news_event_enemy_pride_sinking

	major = yes
	is_triggered_only = yes

	option = {
		name = bramja.16.a
		trigger = {
			is_in_faction_with = FROM
		}
	}
	option = {
		name = bramja.16.b
		trigger = {
			has_war_with = FROM	
		}
		add_war_support = 0.05
	}
	option = {
		name = bramja.16.c
		trigger = {
			NOT = {
				OR = {
					tag = FROM 
					is_in_faction_with = FROM
					has_war_with = FROM
				}
			}
		}
	}
}

### Bramja: The Fall of France for non-aligned ###


#Event France Monarchy joins allies?
country_event = {
	id = bramja.25
	title =  bramja.25.t
	desc =  bramja.25.d
	picture = GFX_report_event_degaulle_churchill
	
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		has_war_with = GER
		has_government = neutrality
		NOT = {
			OR = {
				is_in_faction_with = ENG
				has_war_with = HOL
				has_war_with = BEL
				has_war_with = ENG
			}
		}
		OR = {
			is_in_faction = no
			AND = {
				is_in_faction = yes
				all_allied_country = {
					OR = {
						has_capitulated = yes
						is_puppet = yes 
						num_of_factories < 50
					}
				}
			}
		}

		ENG = {
			OR = {
				has_government = democratic
				has_government = neutrality
			}
		}

		GER = { surrender_progress < 0.15 }

		OR = {
			HOL = { has_capitulated = yes }
			BEL = { has_capitulated = yes }
			FRA = { surrender_progress > 0.1 }
		}	
	}

	mean_time_to_happen = { days = 1 }
	
	option = { # join Alies
		name = bramja.25.a
		ENG = { country_event = { id = bramja.26 days = 1 } }
	}
	
	option = { # don't join Alies
		name = bramja.25.b
		ai_chance = {
			factor = 0
		}
	}
}

#Event for UK if France wants to join Alies
country_event = {
	id = bramja.26
	title =  bramja.26.t
	desc =  bramja.26.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = { # France joins Alies
		name = bramja.26.a
		ai_chance = {
			base = 2
		}

		if = {
			limit = {
				FRA = { is_in_faction = yes }
			}
			every_country = {
				limit = {
					is_in_faction_with = FRA
					OR = {
						has_government = democratic
						has_government = neutrality
					}
				}
				ENG = { add_to_faction = PREV }
				ENG = { add_to_faction = FRA }
			}
		}
		else = {
			ENG = { add_to_faction = FRA }
		}

		hidden_effect = {
			news_event = { id = news.175 }
		}
	}

	option = { # France not allowed in Alies
		name = bramja.26.b
		ai_chance = {
			base = 0
			modifier = {
				add = 2
				NOT = { has_war_with = GER }
				GER = {
					OR = {
						has_government = democratic
						has_government = neutrality
					}
				}
			}
		}
		
		hidden_effect = {
			news_event = { id = news.176 }
		}
	}
}


#Event for France to quit alliance with ENG once GER has been defeated and gov neutral

country_event = {
	id = bramja.27
	title =  bramja.27.t
	desc =  bramja.27.d
	picture = GFX_report_event_degaulle_churchill
	
	trigger = {
		tag = FRA
		has_government = neutrality
		NOT = { has_war_with = GER  }
		NOT = { has_war_with = ITA  }
		NOT = { has_war_with = SPR  }
		NOT = { has_war_with = JAP  }

		is_in_faction_with = ENG 
		is_faction_leader = no
	}
	
	mean_time_to_happen = { days = 30 }
	
	option = { # France leaves Alies
		name = bramja.27.a
		ai_chance = {
			base = 5
		}
		
		FRA = { leave_faction = yes }
		hidden_effect = {
			news_event = { id = bramja.28 }
		}
	}
	
	option = { # France doesn't leave Alies
		name = bramja.27.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 10
				surrender_progress > 0.2
			}
		}
	}
}


#Bramja event if ITA/SPR but not GER at war with FRA neutral of fascist
#--> Turn into decision for ITA?
country_event = {
	id = bramja.38
	title = bramja.38.t
 	desc =  bramja.38.d
	picture = GFX_event_italian_troops_with_hand_mortar
	
	fire_only_once = yes

	trigger = {
		tag = FRA
		FRA = { controls_state = 16 }
		OR = {
			is_puppet = no
			is_subject = no 
		}
		surrender_progress > 0.2
		NOT = { has_war_with = GER }
		NOT = { ITA = { is_in_faction_with = GER } }
		has_war_with = ITA
		ITA = {
			OR = {
				has_war_with = ENG
				has_war_with = USA
				has_war_with = GER
			}
			OR = {
				is_puppet = no
				is_subject = no 
			}
		} # Remove this if given choice by ITA to accept this offer. 
		any_owned_state = {
			is_on_continent = europe
			is_controlled_by = ITA
			NOT = { state = 1 } 
		}
		OR = {
			has_government = fascism
			has_government = neutrality
		}
		is_faction_leader = no
	}
	
	mean_time_to_happen = { days = 3 }
	
	option = { # France doesn't accept peace ITA
		name = bramja.38.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 3
				strength_ratio = {
					tag = ITA
					ratio > 1
				}
			}
			modifier = {
				factor = 3	
				ITA = { surrender_progress > 0.2 }
			}
		}
		add_war_support = 0.1
	}
	
	option = { # Neutrality France accept peace ITA
		name = bramja.38.b
		ai_chance = {
			base = 5
		}
		
		trigger = {#Bramja test strength ratio
			OR = {
				AND = {
					strength_ratio = {
						tag = ITA
						ratio > 0.4
					}
					FRA = { has_government = fascism }
					ITA = { has_government = fascism }
				}
				has_government = neutrality
			}
		}

		add_war_support = -0.1
		add_stability = -0.05

		if = {
			limit = {
				is_in_faction = yes 
			}
			leave_faction = yes
		}
		if = {
			limit = {
				AND = {
					1 = { #Corsica
						owner = {original_tag = FRA }
						OR = {
							is_controlled_by = ITA
							is_controlled_by = FRA
						}
					}
				}
			}
			ITA = { transfer_state = 1 }
			ITA = { add_state_claim = 1 }
		}
		if = {
			limit = {
				AND = {
					735 = { #Savoy
						owner = {original_tag = FRA }
						OR = {
							is_controlled_by = ITA
							is_controlled_by = FRA
						}
					}
				}
			}
			ITA = { transfer_state = 735 }
			ITA = { add_state_claim = 735 }
		}
		every_state = {
			limit = { # French Colonies (any non European territorey held by ITA) transfer to Italy
				owner = { original_tag = FRA }
				NOT = { is_on_continent = europe }
				is_controlled_by = ITA
			}
			ITA = { transfer_state = PREV }
			FRA = { add_state_claim = PREV }
		}
		every_state = {
			limit = { # French Colonies (any non European territorey held by SPR) transfer to SPR
				owner = { original_tag = FRA }
				NOT = { is_on_continent = europe }
				is_controlled_by = SPR
				SPR = { is_in_faction_with = ITA }
			}
			SPR = { transfer_state = PREV }
			FRA = { add_state_claim = PREV }
		}
		every_state = {
			limit = { # French Colonies (any non European territorey held by POR) transfer to POR
				owner = { original_tag = FRA }
				NOT = { is_on_continent = europe }
				is_controlled_by = POR
				POR = { is_in_faction_with = ITA }
			}
			POR = { transfer_state = PREV }
			FRA = { add_state_claim = PREV }
		}
		every_state = {
			limit = { # French Colonies (any non European territorey held by JAP) transfer to JAP
				owner = { original_tag = FRA }
				NOT = { is_on_continent = europe }
				is_controlled_by = JAP
			}
			JAP = { transfer_state = PREV }
			FRA = { add_state_claim = PREV }
		}

		every_state = {
			limit = { #SYRIA
				is_owned_by = SYR
				SYR = { is_subject_of = FRA }
				is_controlled_by = ITA
			}
			ITA = { transfer_state = PREV }
		}
		if = {
			limit = { # Indochina & JAP
				any_state = {
					is_owned_by = CAM
					is_controlled_by = JAP
				}
			}
			JAP = { country_event = { days = 1 id = japan.6 } }
		}
		every_country = {
			limit = {
				has_war_with = FRA
			}
			white_peace = FRA
		}
		hidden_effect = {
			news_event = { id = bramja.40 days = 3 }
		}
	}
	
		# Implement choice to accept for Italy? Or not to, force ballance? ITA = { country_event = { id = bramja. days = 1 } } 
		
		
	option = { # Strong fascist France accept peace ITA
		name = bramja.38.c
		ai_chance = {
			base = 5
		}
		
		trigger = { #Bramja test strength ratio
			has_government = fascism
			strength_ratio = {
				tag = ITA
				ratio < 0.7
			}
			ITA = { has_government = fascism }
		}
		
		if = {
			limit = {
				is_in_faction = yes 
			}
			leave_faction = yes
		}
		
		if = {
			limit = { 
				1 = { #Corsica
					owner = {original_tag = FRA }
				}
			}
			ITA = { transfer_state = 1 }
			ITA = { add_state_claim = 1 }
		}
 		every_state = {
			limit = { # French Colonies (any non European territory held by JAP) transfer to JAP
				owner = { original_tag = FRA }
				NOT = { is_on_continent = europe }
				is_controlled_by = JAP
			}
			JAP = { transfer_state = PREV }
			FRA = { add_state_claim = PREV }
		}
		every_state = {
			limit = { #SYRIA
				is_owned_by = SYR
				SYR = { is_subject_of = FRA }
			}
			ITA = { transfer_state = PREV }
		}
		if = {
			limit = {
				458 = {
					owner = { original_tag = FRA }
				}
			}
			ITA = { transfer_state = 458 }
			ITA = { add_state_claim = 458 }
		}
		if = {
			limit = { #Djibouti
				268 = {
					owner = { original_tag = FRA }
				}
			}
			ITA = { transfer_state = 268 }
			ITA = { add_state_claim = 268 }
		}
		if = {
			limit = { # Indochina & JAP
				any_state = {
					is_owned_by = CAM
					is_controlled_by = JAP
				}
			}
			JAP = { country_event = { days = 1 id = japan.6 } }
		}
		
		every_country = {
			limit = {
				has_war_with = FRA
			}
			white_peace = FRA
		}
		
		if = {
			limit = {
				ITA = { is_faction_leader = yes }
			}
			ITA = { add_to_faction = FRA }
		}
		else_if = { 
			random_other_country = {
				limit = { 
					is_faction_leader = yes
					is_in_faction_with = ITA
				}
				add_to_faction = FRA
			}
		}
		else = {
			ITA = { create_faction = SPA_latin_bloc }
			add_to_faction = FRA
		}
		
		hidden_effect = {
			news_event = { id = bramja.41 days = 1 }
		}
	}
	
	
	option = { # Weak fascist France accept overlord ITA
		name = bramja.38.d_2
		ai_chance = {
			base = 3
		}
		
		trigger = { #Bramja test strength ratio
			has_government = fascism
			strength_ratio = {
				tag = ITA
				ratio < 0.4
			}
			ITA = { has_government = fascism } 
		}
	
		add_war_support = -0.2
		add_stability = -0.1

		if = {
			limit = {
				is_in_faction = yes 
			}
			leave_faction = yes
		}
		if = {
			limit = {
				AND = {
					1 = { #Corsica
						owner = {original_tag = FRA }
						OR = {
							is_controlled_by = ITA
							is_controlled_by = FRA
						}
					}
				}
			}
			ITA = { transfer_state = 1 }
			ITA = { add_state_claim = 1 }
		}
		if = {
			limit = {
				AND = {
					735 = { #Savoy
						owner = {original_tag = FRA }
						OR = {
							is_controlled_by = ITA
							is_controlled_by = FRA
						}
					}
				}
			}
			ITA = { transfer_state = 735 }
			ITA = { add_state_claim = 735 }
		}
		if = {
			limit = {
				AND = {
					21 = { #Provence
						owner = {original_tag = FRA }
						OR = {
							is_controlled_by = ITA
							is_controlled_by = FRA
						}
					}
				}
			}
			ITA = { transfer_state = 21 }
			ITA = { add_state_claim = 21 }
		}
		if = {
			limit = {
				AND = {
					34 = { #Alpes
						owner = {original_tag = FRA }
						OR = {
							is_controlled_by = ITA
							is_controlled_by = FRA
						}
					}
				}
			}
			ITA = { transfer_state = 34 }
			ITA = { add_state_claim = 34 }
		}
		
		every_state = {
			limit = { # French Colonies (any non European territorey held by ITA) transfer to Italy
				owner = { original_tag = FRA }
				NOT = { is_on_continent = europe }
				is_controlled_by = ITA
			}
			ITA = { transfer_state = PREV }
			FRA = { add_state_claim = PREV }
		}
		every_state = {
			limit = { # French Colonies (any non European territory held by JAP) transfer to JAP
				owner = { original_tag = FRA }
				NOT = { is_on_continent = europe }
				is_controlled_by = JAP
			}
			JAP = { transfer_state = PREV }
			FRA = { add_state_claim = PREV }
		}
		every_state = {
			limit = { #SYRIA
				is_owned_by = SYR
				SYR = { is_subject_of = FRA }
			}
			ITA = { transfer_state = PREV }
		}
		if = {
			limit = {
				458 = {
					owner = { original_tag = FRA }
				}
			}
			ITA = { transfer_state = 458 }
			ITA = { add_state_claim = 458 }
		}
		if = {
			limit = { #Djibouti
				268 = {
					owner = { original_tag = FRA }
				}
			}
			ITA = { transfer_state = 268 }
			ITA = { add_state_claim = 268 }
		}
		if = {
			limit = { # Indochina & JAP
				any_state = {
					is_owned_by = CAM
					is_controlled_by = JAP
				}
			}
			JAP = { country_event = { days = 1 id = japan.6 } }
		}
		every_country = {
			limit = {
				has_war_with = FRA
			}
			white_peace = FRA
		}
		ITA = {
    		set_autonomy = { target = FRA autonomy_state = autonomy_reichsprotectorate }		
    	}
		
		hidden_effect = {
			news_event = { id = bramja.42 days = 1 }
		}
	}
}	
	
#Neutral acceptance
news_event = {
	id = bramja.40
	title = bramja.40.t
	desc = bramja.40.d
	picture = GFX_event_mussolini_working
	
	major = yes

	is_triggered_only = yes

	option = {
		name = bramja.40.a
	}
}


#Fra & Ita Fascist ally
news_event = {
	id = bramja.41
	title = bramja.41.t
	desc = bramja.41.d
	picture = GFX_report_event_mussolini_flag
	
	major = yes

	is_triggered_only = yes

	option = {
		name = bramja.41.a
	}
}


#Fascist Fra becomes ITA's bitch
news_event = {
	id = bramja.42
	title = bramja.42.t
	desc = bramja.42.d
	picture = GFX_event_mussolini_working
	
	major = yes

	is_triggered_only = yes

	option = {
		name = bramja.42.a
	}
}


#News event for France leaving Allies
news_event = {
	id = bramja.28
	title = bramja.28.t
	desc = bramja.28.d
	picture = GFX_news_event_french_parade
	
	major = yes

	is_triggered_only = yes

	option = {
		name = bramja.28.a
	}
}



# Bramja: French Monarchy: Second Compiegne Armistice
news_event = {
	id = bramja.23
	title = bramja.23.t
	desc = bramja.23.d
	picture = GFX_news_event_hitler_handshake
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = bramja.23.a
		trigger = {
			NOT = { TAG = GER }
		}
	}
	option = {
		name = bramja.23.b
		trigger = {
			tag = GER
		}
	}
}

###Events for Balkan Dynamics: HUN & BUL###

#Hungary uses Italian invasion of Yugoslavia to demand Vojvodina & Banat 
country_event = {
	id = bramja.29
	title =  bramja.29.t
	desc =  bramja.29.d
	picture = GFX_report_event_hungary_refused
	
	fire_only_once = yes
	
	is_triggered_only = yes

	option = { # Ask & Claim Vojvidina 
		name = bramja.29.a
		ai_chance = {
			base = 50
		}
		
		if = {
			limit = {
				OR = {
					has_war_with = YUG
					45 = {
						NOT = {
							is_owned_by = YUG
						}
					}
				}
			}
			HUN = { add_state_claim = 45 }
		}
		else = { YUG = { country_event = DOD_hungary.90 } }
	}
	
	option = { # Don't ask Vojvodina
		name = bramja.29.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				surrender_progress > 0.1
			}
		}
	}	
}







###Sovjet Post-war & European puppets events###

##TO DO long term: 2nd phase; reaction to puppeted country/more agency events


#1st SOV: Event adding SOV War recov + 
#Later add difference severity with Ostfront Variables --> doesn't work as ostfront Flags dissapear after peace.

country_event = {
	id = bramja.33
	title =  bramja.33.t
	desc =  bramja.33.d
	picture = GFX_SOV_countryside

	fire_only_once = yes
	
	is_triggered_only = yes


	option = { # adds idea war recov short & long
		name = bramja.33.a
		add_timed_idea = {
			idea = SOV_war_recovery_short
				days = 550
		}
		add_timed_idea = {
			idea = SOV_war_recovery_long
				days = 1200
		}
		if = {
			limit = {
				has_defensive_war = no
			}
			add_ideas = partial_economic_mobilisation
			add_ideas = limited_conscription
		}
		hidden_effect = {
			SOV = { country_event = { id = bramja.34 days = 30 } }
		}
	}
}


#2nd Event Sov EEU: Choice Stalinismm or free choice communism (add later 2nd option)

country_event = {
	id = bramja.34
	title =  bramja.34.t
	desc =  bramja.34.d
	picture = GFX_report_event_soviet_tank_parade
	
	is_triggered_only = yes
	
	option = { # Stalinism for puppets / only real option until further work other options
		name = bramja.34.a
		# ai_chance = {
			# base = 10
		# }
		
		every_country = {
			limit = {
				is_puppet_of = SOV 
				capital_scope = {
					is_on_continent = europe
				}
			}
			add_timed_idea = {
				idea = Stalinisation_1 
					days = 450
			}
			add_timed_idea = {
				idea = officers_purged_EE 
					days = 365
			}
			add_popularity = {
				ideology = communism
				popularity = 0.10
			}
			set_country_leader_ideology = stalinism
		}
		SOV = { add_political_power = -200 }

		hidden_effect = {
			news_event = { id = bramja.36 days = 10 }
		}
	}
}
	
#3rd event infoming puppet more free or Stalinism 
##Depends individual/per country or whole?

#country_event = {
#	id = bramja.35
#	title =  bramja.35.t
#	desc =  bramja.35.d
#	picture = GFX_event_soviet_soldiers_tank
#	
#	is_triggered_only = yes
#	
#	option = {
#		name = bramja.35.a
#	}
	
	
	
#News Events around Stalins decision on EE & war recov.
#1st only Stalinism.
#2nd for free, but add later



#News event EE Stalinism for puppets
news_event = {
	id = bramja.36
	title = bramja.36.t
	desc = bramja.36.d
	picture = GFX_news_event_stalin_bright_propaganda
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = bramja.36.a
		trigger = {
			NOT = { TAG = SOV }
		}
	}
	option = {
		name = bramja.36.b
		trigger = {
			tag = SOV
		}
	}
}
	
#2nd for free, but add later
#news_event = {
#	id = bramja.37
#	title = bramja.37.t
#	desc = bramja.37.d
#	picture = GFX_event_stalin_propaganda
#	
#	major = yes
#	
#	is_triggered_only = yes
#	
#	option = {



#Event for POR to cease war with Brasil if no hold in SA. Triggered in on action or stab events (?)

country_event = {
	id = bramja.43
	title = bramja.43.t
	desc = bramja.43.d
	picture = GFX_report_event_generic_riot

	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = bramja.43.a
		ai_chance = {
			base = 3
		}
		every_country = {
			limit = { has_war_with = BRA }
			white_peace = BRA
		}
		add_stability = 0.25

		add_timed_idea = {
			idea = neutrality_idea
			days = 730
		}
		
		add_popularity = {
			ideology = fascism
			popularity = 0.15
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.15
		}
		#Seems event wasnt made, but loc under bramja.44
		#hidden_effect = {
		#	news_event = { id = bramja.39 days = 1 }
		#}
		if = {
			limit = {
				has_country_flag = crisis_solution_in_progress
			}
			clr_country_flag = crisis_solution_in_progress
		}
		if = {
			limit = {
				has_country_flag = crisis_in_progress
			}
			clr_country_flag = crisis_in_progress
		}
		if = {
			limit = {
				OR = {
					has_idea = draft_dodging
					has_idea = draft_dodging_2
					has_idea = draft_dodging_3
				}
			}
			remove_ideas =  { 
				draft_dodging 
				draft_dodging_2
				draft_dodging_3
			}
		}
		if = {
			limit = {
				OR = {
					has_idea = strikes_1 
					has_idea = strikes_2
					has_idea = strikes_3
				}
			}
			remove_ideas =  {
				strikes_1 
				strikes_2
				strikes_3
			}
		}
		if = {
			limit = {
				OR = {
					has_idea = mutiny_1
					has_idea = mutiny_2
					has_idea = mutiny_3
				}
			}
			remove_ideas =  { 
				mutiny_1 
				mutiny_2
				mutiny_3
			}
		}
	}
	
	option = {
		name = bramja.43.b
		ai_chance = {
			base = 0
		}
		add_stability = -0.1
		add_war_support = -0.1
		random_list = {
			10 = {
				start_civil_war = {
					ideology = democratic
				}
			}
			10 = {
				start_civil_war = {
					ideology = communism
				}
			}
		}
	}
}

#News events for Persia Diktat by GER, variations depending Reza deposed/countenanced or not

#News Events Diktat 
news_event = { #Rescue
	id = bramja.45
	title = bramja.45.t
	desc = bramja.45.d
	picture = GFX_news_event_italian_tank_desert 
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = bramja.45.a
		trigger = {
			NOT = { tag = ROOT }
		}
	}
	option = {
		name = bramja.45.b
		trigger = {
			tag = ROOT
		}
	}
}

news_event = { #chill
	id = bramja.46
	title = bramja.46.t
	desc = bramja.46.d
	picture = GFX_news_event_italian_tank_desert 
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = bramja.46.a
		trigger = {
			NOT = { tag = ROOT }
		}
	}
	option = {
		name = bramja.46.b
		trigger = {
			tag = ROOT
		}
	}
}


# Events for South African ultimatum & Coup/CW when Axis domination Africa, Triggered by decision GER. 

#1st: SAF asked to bend its knee by GER.
country_event = {
	id = bramja.47
	title =  bramja.47.t
	desc =  bramja.47.d
	picture = GFX_report_event_german_volunteers
	
	is_triggered_only = yes
	
	option = { # Resist but face civil war
		name = bramja.47.a
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				surrender_progress > 0.2
			}
			modifier = {
				factor = 0.5
				fascism > 0.25
			}
		}
		
		add_timed_idea = {
			idea = SAF_greyshirts_no_Smuts 
				days = 365
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.2
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.15
		}
		add_political_power = -100
		
		hidden_effect = {  #Randomize slightly the moment
			country_event = { id = bramja.49 days = 5 random_days = 4}
		}
	}
	
	option = { # Nationalist Afrikaners win out.
		name = bramja.47.b
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_government = communism
			}
			modifier = {
				factor = 0.5
				AND = {
					fascism < 0.15
					Neutrality < 0.15
				}
			}
		}
		
		if = {
			limit = {
				SAF = { is_subject = yes }
			}
			overlord = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
		}
		
		leave_faction = yes


		every_country = {
			limit = { has_war_with = SAF }
			white_peace = PREV
		}
		
		GER = {
			puppet = SAF
    		set_autonomy = { 
				target = SAF 
				autonomy_state = autonomy_reichsprotectorate 
			}
    	}
		
		add_timed_idea = {
			idea = SAF_greyshirts_takeover
			days = 365
		}
		add_opinion_modifier = { target = ENG modifier = SAF_anti_british_sentiment }
		add_ideas = SAF_strong_apartheid
		
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_idea = SAF_worker_restrictions }
				}
				add_ideas = { SAF_worker_restrictions }
			}

			if = {
				limit = {
					has_idea = SAF_history_of_segregation_2
				}
				swap_ideas = {
					remove_idea = SAF_history_of_segregation_2
					add_idea = SAF_history_of_segregation
				}
			}
			else_if = {
				limit = {
					has_idea = SAF_history_of_segregation_3
				}
				swap_ideas = {
					remove_idea = SAF_history_of_segregation_3
					add_idea = SAF_history_of_segregation
				}
			}
			else_if = {
				limit = {
					has_idea = SAF_rural_volunteers
				}
				remove_ideas = SAF_rural_volunteers
				add_ideas = SAF_history_of_segregation
			}
			else_if = {
				limit = {
					NOT = { has_idea = SAF_history_of_segregation }
				}
				add_ideas = SAF_history_of_segregation
			}

			set_popularities = {
				democratic = 25
				fascism = 55
				communism = 10
				neutrality = 10
			}
	
			unlock_national_focus = SAF_abandon_westminster
			unlock_national_focus = SAF_split_in_the_party
		
			create_country_leader = { #Change to character system-->Not done for all SAFR yet in mod...
				name = "Oswald Pirow"
				desc = ""
				picture = "gfx/leaders/SAF/Portrait_Europe_Generic_new_7.tga"
				expire = "1965.1.1"
				ideology = nazism
				traits = {
					anti_communist
					leader
				}
			}
			set_party_name = { ideology = fascism long_name = SAF_fascism_nop_long name = SAF_fascism_nop }
			set_cosmetic_tag = SAF_SANP

			load_oob = "SAF_F_civil_war"

			division_template = {
				name = "Greyshirts Militia"
				priority = 2
				division_names_group = SAF_GAR_01 
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
		
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }

					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
					
					artillery_brigade = { x = 3 y = 0 } 
					artillery_brigade = { x = 3 y = 1 } 
				}
				support = {
					engineer = { x = 0 y = 0 } 		
					recon_cav = { x = 0 y = 1 } 		
					DIV_HQ = { x = 1 y = 0 } 				
				}
			}

			541 = {
				create_unit = {
					division = "name = \"1st Greyshirts Militia\" division_template = \"Greyshirts Militia\" start_experience_factor = 0.5" 
					owner = SAF
				}	
			}
			division_template = {
				name = "Stormjaers Militia"
				priority = 2
				division_names_group = SAF_GAR_01 
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
		
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }

					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
					
					artillery_brigade = { x = 3 y = 0 } 
					artillery_brigade = { x = 3 y = 1 } 
				}
				support = {
					engineer = { x = 0 y = 0 } 		
					recon_cav = { x = 0 y = 1 } 		
					DIV_HQ = { x = 1 y = 0 } 				
				}
			}

			541 = {
				create_unit = {
					division = "name = \"1st Stormjaers Militia\" division_template = \"Stormjaers Militia\" start_experience_factor = 0.5" 
					owner = SAF
				}	
			}
			news_event = { id = bramja.48 }
		}
	}
}

news_event = { #1st News on event if SAFR Acceppts without issue Ger ultimatum
	id = bramja.48
	title = bramja.48.t
	desc = bramja.48.d
	picture = GFX_news_event_dietsche_rijk
	
	major = yes
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			news_event = { id = bramja.52 hours = 1 }
		}
	}
	
	option = { # Continue
		name = bramja.48.a
		trigger = {
			NOT = { tag = GER }
			NOT = { is_in_faction_with = GER }
		}
		#news_event = { id = bramja.52 hours = 2 }
	}
	option = { # Good
		name = bramja.48.b
		trigger = {
			OR = {
				is_in_faction_with = GER
				tag = GER
			}
		}
	}
}
news_event = { #2nd News on event if SAFR Acceppts without issue Ger ultimatum
	id = bramja.52
	title = bramja.52.t
	desc = bramja.52.d
	picture = GFX_news_event_dietsche_rijk
	
	major = yes
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = { # Ghastly
		name = bramja.52.a
		trigger = {
			NOT = { tag = GER }
			NOT = { is_in_faction_with = GER }
		}
	}
	option = { # Thucydides
		name = bramja.52.b
		trigger = {
			OR = {
				is_in_faction_with = GER
				tag = GER
			}
		}
	}
}

country_event = { # Event if SAFR stayed with Brits-->CW; spawned SAFR idea add.
	id = bramja.49
	hidden = yes

	is_triggered_only = yes

	option = {
		name = bramja.49.a
		
		
		complete_national_focus = SAF_abandon_westminster
		complete_national_focus = SAF_split_in_the_party
		complete_national_focus = SAF_support_the_german_coup

		#hidden_effect = {
			random_country = {
				limit = {
					original_tag = SAF
					has_government = fascism
				}
				add_timed_idea = {
					idea = SAF_greyshirts_takeover
					days = 365
				}
				add_ideas = SAF_strong_apartheid 
			}
		#}
	}
}


#Operation Zoroaster events: fail / success.-->add pic to operation

#!!!Change Picture here if possible!!!
country_event = { # Failed ATTEMPT TO FREE THE SHAH
	id = bramja.50
	title =  bramja.50.t
	desc =  bramja.50.d
	picture = GFX_report_event_german_elite_troops_inspected
	
	is_triggered_only = yes
	
	option = { # Failed, try again
		name = bramja.50.a
		
		army_experience = 5
		add_war_support = -0.03
	}
}


# TO DO: add next stage chain: - Ask support but more control GER; GER choice SS or OKW; resistance removal for PER, add options ENG/allies to counteract if still potential!

news_event = { #Shah Freed
	id = bramja.51
	title = bramja.51.t
	desc = bramja.51.d
	picture = GFX_news_event_churchill_ruins
	
	major = yes
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			PER = {
				retire_country_leader = yes
				create_country_leader = {
					name = "Reza Shah Pahlavi"
					desc = "POLITICS_REZA_SHAH_PAHLAVI_DESC_freed"
					picture = "Portrait_Iran_Reza_Shah_Pahlavi.dds"
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						indomitable_perseverance
						anti_democrat
					}
				} # Rescue mission  fixED these traits.
				add_stability = 0.15
				add_war_support = 0.05
				remove_ideas = PER_unstable_monarchy
			}
		}
	}

	option = { # German Humour
		name = bramja.51.a
		trigger = {
			tag = FROM
			is_in_faction_with = FROM
		}
	}
	option = { # Damn them
		name = bramja.51.b
		trigger = {
			has_war_with = FROM
		}
	}
	option = { # Bravo
		name = bramja.51.c
		trigger = {
			NOT = {
				OR = {
					tag = FROM
					is_in_faction_with = FROM
					has_war_with = FROM
				}
			}
		}
	}
}


country_event = { #Finland response GER peace offer if war due Miedzomyre or pre Barbarossa
	id = bramja.53
	title =  bramja.53.t
	desc =  bramja.53.d
	picture = GFX_report_event_german_elite_troops_inspected
	
	is_triggered_only = yes
	
	option = { #Yes Peace
		name = bramja.53.a
		
		every_country = {
			limit = {
				has_war_with = FIN
				is_in_faction_with = GER
			}
			white_peace = FIN
		}
		every_country = {
			limit = {
				is_in_faction_with = FIN
			}
			add_opinion_modifier = { target = FIN modifier = faction_traitor }
		}
		FIN = { leave_faction = yes }
		FIN = {
			add_opinion_modifier = {
				target = GER
				modifier = large_increase
			}
		}
	}
	
	option = { #Take them Jerry aaandd the Sovjets
		name = bramja.53.b

		ai_chance = {
			base = 0
		}
		add_stability = -0.15
		add_war_support = -0.05
	}
	
}

country_event = { # KUK demands Slovenia from Yugoslavia: Uk event
	id = bramja.58
	title = britain.14.t##
	desc = britain.14.d##
	picture = GFX_report_event_hitler_croatia_handshake ##

	is_triggered_only = yes

	option = { # Abandon Yugoalvia
		name = britain.14.a

		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		YUG = { add_opinion_modifier = { target = ENG modifier = western_betrayal } }	
		
		if = {
			limit = {
				country_exists = FRA
				16 = { is_controlled_by = FRA }
			}
			FRA = { country_event = { id = bramja.59 hours = 2 } } #france.25
		}
		else_if = {
			limit = {
				ITA = {
					has_completed_focus = ITA_yugoslavia_friend
					NOT = { is_in_faction_with = GER }
					NOT = { has_war_with = YUG }
				}
			}
			ITA = { country_event = { id = bramja.62 } } #italy.12
		}
		else_if = {
			limit = {
				ITA = {
					OR = {
						NOT = { has_completed_focus = ITA_yugoslavia_friend }						
						is_in_faction_with = GER
						exists = no
					}
				}
			}
			YUG = { country_event = { id = bramja.61 hours = 6 } } # yugoslavia.5 		
		}

		every_country = {
			limit = {
				has_guaranteed = YUG
				is_in_faction_with = ENG
			}
			diplomatic_relation = {
   				country = YUG
   				relation = guarantee
   				active = no
  			}
		}
	}


	option = { # Support Yugoslavia
		name = britain.14.b

		ai_chance = {
			factor = 15
			modifier = {
				factor = 2
				country_exists = FRA
				16 = { is_controlled_by = FRA }
				NOT = { FRA = { is_in_faction_with = ROOT } }
			}
			modifier = {
				factor = 0.5
				is_in_faction_with = ROOT
			}
		}

		if = {
			limit = {
				is_in_faction_with = ROOT
				is_faction_leader = yes
			}
			remove_from_faction = ROOT
		}
		if = {
			limit = {
				is_in_faction_with = ROOT
				is_faction_leader = no
			}
			ROOT = { remove_from_faction = ENG }
		}

		add_political_power = -50
		add_opinion_modifier = { target = ROOT modifier = condemn_aggression }

		effect_tooltip = {
			ROOT = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}

		add_to_faction = YUG
		YUG = {
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}

		if = {
			limit = {
				FRA = {
					is_puppet = no
					NOT = { has_war_with = YUG }
				}
				16 = { is_controlled_by = FRA }
			}
			FRA = { country_event = { id = bramja.60 hours = 2 } } #france.26
		}
		YUG = {
			add_opinion_modifier = { target = ENG modifier = offered_support }
		}
	}
}

country_event = { # KUK demands Slovenia from Yugoslavia: FRA event / UK Abandons
	id = bramja.59
	title = france.25.t#
	desc = france.25.d#
	picture = GFX_report_event_hitler_croatia_handshake

	is_triggered_only	= yes

	option = { # Follow Britain's lead
		name = france.25.a

		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.5
				is_in_faction_with = YUG
			}
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		if = {
			limit = {
				has_guaranteed = YUG
			}
			diplomatic_relation = {
   				country = YUG
   				relation = guarantee
   				active = no
  			}
		}

		if = {
			limit = {
				ITA = {
					OR = {
						NOT = { has_completed_focus = ITA_yugoslavia_friend }						
						is_in_faction_with = GER
						exists = no
					}
				}
			}
			YUG = {
				add_opinion_modifier = { target = FRA modifier = western_betrayal }
				country_event = { id = bramja.61 hours = 6 } # yugoslavia.5
			}			
		}

		if = {
			limit = {
				ITA = {
					has_completed_focus = ITA_yugoslavia_friend
					NOT = { is_in_faction_with = GER }
					NOT = { has_war_with = YUG }
				}
			}
			ITA = { country_event = { id = bramja.62 } } #italy.12
		}
	}


	option = { # Support the Yugoslavs alone
		name = france.25.b

		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				has_completed_focus = FRA_strengthen_the_little_entente
			}
		}

		add_opinion_modifier = { target = HUN modifier = condemn_aggression }
		YUG = {
			country_event = { id = bramja.63 days = 1 } # yugoslavia.4
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}

		HUN = {
			country_event = { id = germany.97 hours = 6 } #Still ok old event
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
		if = {
			limit = {
				is_in_faction_with = ENG 
			}
			if = {
				limit = { ENG = { is_faction_leader = yes } }
				ENG = {
					country_event = { id = britain.15 hours = 6 }
					remove_from_faction = FRA
				}
				else_if = {
					limit = {
						is_faction_leader = yes
					}
					remove_from_faction = ENG
				}
			}
		}
		if = {
			limit = { is_in_faction_with = HUN }
			HUN = { 
				remove_from_faction = FRA
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = yes
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = HUN }
			}
			add_to_faction = YUG
			YUG = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = {
				OR = {
					is_in_faction = no
					is_faction_leader = no
					is_in_faction_with = ENG
					is_in_faction_with = HUN
				}
			}
			create_faction = "french_alliance"
			add_to_faction = YUG
			YUG = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = { NOT = { has_completed_focus = FRA_strengthen_the_little_entente } }
			add_stability = 0.05
		}
	}
}
	
country_event = { # KUK demands Slovenia from Yugoslavia: FRA event if UK Supports
	id = bramja.60
	title = france.26.t
	desc = france.26.d
	picture = GFX_report_event_hitler_croatia_handshake

	is_triggered_only	= yes

	option = { # FRA Join UK
		name = france.26.a
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0.5
				is_in_faction_with = ROOT
			}
		}

		if = {
			limit = {
				NOT = {
					has_guaranteed = YUG
				}
			}
			give_guarantee = YUG
		}

		if = {
			limit = { is_in_faction = no }
			ENG = { add_to_faction = FRA }
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}

		add_opinion_modifier = { target = HUN modifier = condemn_aggression }
		YUG = { 
			country_event = { id = bramja.64 days = 1 } #yugoslavia.3
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}

		HUN = {
			country_event = { id = germany.93 hours = 6 } #Event still ok
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}		
	}


	option = { # FRA abandon YUG/UK
		name = france.26.b
		trigger = { NOT = { is_in_faction_with = ENG } }
		ai_chance = { factor = 10 }

		set_global_flag = FRA_abandoned_yugoslavia
		if = {
			limit = {
				has_guaranteed = YUG
			}
			diplomatic_relation = {
   				country = YUG
   				relation = guarantee
   				active = no
  			}
		}
		YUG = {
			country_event = { id = bramja.64 hours = 6 } #yugoslavia.3
			add_opinion_modifier = { target = FRA modifier = western_betrayal }
		}
	}
}
	
country_event = { # KUK demands Slovenia from Yugoslavia: Yugoslavia; Abandoned
	id = bramja.61
	title = yugoslavia.5.t
	desc = yugoslavia.5.d
	picture = GFX_report_event_king_peter_cabinet
	
	is_triggered_only = yes
	
	option = { # Surrender Slovenia
		name = yugoslavia.5.a

		ai_chance = {
			factor = 50
			modifier = { # Increase chance YUG resist chance vs KUK
				strength_ratio = { tag = HUN ratio > 0.8 }
				factor = 0.5
			}
			modifier = { # Further increase if bigger
				factor = 0.5
				strength_ratio = {
					tag = HUN
					ratio > 1.20
				}
			}
			modifier = { #Increase chance YUG resist if in faction
				factor = 0.5
				is_in_faction = yes
			}
			modifier = { # Decrease it again if other bordering nations are allied KUK
				factor = 2.0
				any_neighbor_country = {
					NOT = { tag = HUN }
					is_in_faction_with = HUN
				}
			}
		}

		HUN = { country_event = bramja.65 } # germany.94 / KUK gets Slovenia
	}

	option = { # Refuse anyway
		name = yugoslavia.5.b
		ai_chance = {
			factor = 10
			modifier = { #has war
				factor = 0.5
				has_war = yes
			}
		}

		HUN = {
			country_event = germany.95 #old event still good / KUK gains wargoal
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
	}
}


country_event = { # KUK demands Slovenia from Yugoslavia: Italy event
	id = bramja.62
	title = italy.12.t
	desc = italy.12.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes
	
	option = {
	name = italy.12.a

		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				has_army_size = { size > 75 }
				is_faction_leader = yes
			}
		}

		ITA = {
			add_political_power = -20

			if = {
				limit = {
					is_faction_leader = yes 
				}
				add_to_faction = YUG
				YUG = {
					add_ai_strategy = {
						type = alliance
						id = "ITA"
						value = 200
					}
				}
			}

			if = {
				limit = {
					OR = {
						AND = {
							is_faction_leader = no
							is_in_faction = yes
						}
						is_in_faction = no
					}
				}
				create_faction = italy_empire_faction
				add_to_faction = YUG
				YUG = {
					add_ai_strategy = {
						type = alliance
						id = "ITA"
						value = 200
					}
				}
			}
		}

		HUN = { country_event = { id = germany.96 hours = 6 } } #Old event is still good
		YUG = { country_event = { id = bramja.66 hours = 6 } } #yugoslavia.6 
	}


	option = {
	name = italy.12.b

		ai_chance = {
			factor = 60
			modifier = { #has war
				factor = 0.5
				has_war = yes
			}
		}

		YUG = {
			add_opinion_modifier = { target = ITA modifier = western_betrayal }
			country_event = { id = bramja.61 hours = 6 } #yugoslavia.5 
		}
	}
}


country_event = { # KUK demands Slovenia from Yugoslavia: Yugoslavia; French Support
	id = bramja.63
	title = yugoslavia.3.t
	desc = yugoslavia.4.d
	picture = GFX_report_event_degaulle
	
	is_triggered_only = yes
	
	option = {
		name = yugoslavia.4.a
		effect_tooltip = {
			HUN = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
	}
}

	
country_event = { # UK demands Slovenia from Yugoslavia: Yugoslavia (British and (possibly) French Support)
	id = bramja.64
	title = yugoslavia.3.t
	desc = {
		text = yugoslavia.3.d 
		trigger = {
			NOT = { has_global_flag = FRA_abandoned_yugoslavia }
		}
	}
	desc = {
		text = yugoslavia.3.d_FRA_abandoned_yugoslavia
		trigger = {
			has_global_flag = FRA_abandoned_yugoslavia
		}
	}
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = {
		name = yugoslavia.3.a
		effect_tooltip = {
			HUN = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
	}
}


country_event = { # KUK Yugoslavia Surrenders Slovenia
	id = bramja.65
	title = germany.94.t
	desc = germany.94.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.94.a

		HUN = { transfer_state = 102 }
		if = {
			limit = {
				45 = { is_controlled_by = YUG }
			}
			HUN = { transfer_state = 45 }
		}

		if = {
			limit = {
				764 = { is_controlled_by = YUG }
			}
			HUN = { transfer_state = 764 }
		}

		set_country_flag = slovenia_acquired
		hidden_effect = {
			news_event = { id = news.163 hours = 6 }
		}
	}
}

country_event = { # KUK demands Slovenia from Yugoslavia: Yugoslavia; Italian Support
	id = bramja.66
	title = yugoslavia.3.t
	desc = yugoslavia.6.d
	picture = GFX_report_event_mussolini_flag
	
	is_triggered_only = yes
	
	option = {
		name = yugoslavia.6.a
		effect_tooltip = {
			HUN = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
	}
}